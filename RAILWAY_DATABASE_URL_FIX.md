# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: DATABASE_URL –≤ Railway

**–î–∞—Ç–∞:** 2025-11-27  
**–ü—Ä–æ–±–ª–µ–º–∞:** `Temporary failure in name resolution` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö:
```
socket.gaierror: [Errno -3] Temporary failure in name resolution
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í `DATABASE_URL` —É–∫–∞–∑–∞–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å (`localhost`), –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Railway.

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π DATABASE_URL

### –®–∞–≥ 1: –ù–∞–π–¥–∏—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å –≤ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ [railway.app](https://railway.app)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç **AI-Automating-customer-messages**
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ—Ä–≤–∏—Å **PostgreSQL** (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!)

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ DATABASE_URL –∏–∑ PostgreSQL

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å **PostgreSQL**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Variables** (–∏–ª–∏ **Settings** ‚Üí **Variables**)
3. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL` –∏–ª–∏ `POSTGRES_URL`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è:**
```
postgresql://postgres:abc123xyz@containers-us-west-123.railway.app:5432/railway
```

### –®–∞–≥ 3: –ò–∑–º–µ–Ω–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è asyncpg

**–í–ê–ñ–ù–û:** –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `+asyncpg` –ø–æ—Å–ª–µ `postgresql`!

**–ë—ã–ª–æ:**
```
postgresql://postgres:password@host:5432/railway
```

**–ù—É–∂–Ω–æ:**
```
postgresql+asyncpg://postgres:password@host:5432/railway
```

**–ü—Ä–∏–º–µ—Ä:**
```
postgresql+asyncpg://postgres:abc123xyz@containers-us-west-123.railway.app:5432/railway
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ DATABASE_URL –≤ —Å–µ—Ä–≤–∏—Å–µ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Å–ø–∏—Å–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å **–ü–†–ò–õ–û–ñ–ï–ù–ò–Ø** (–Ω–µ PostgreSQL!)
   - –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å: `AI-Automating-customer-messages`, `web`, `backend`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Variables**
4. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`
5. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
6. –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL (—Å `+asyncpg`)
7. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç

- [ ] –ù–∞–π–¥–µ–Ω PostgreSQL —Å–µ—Ä–≤–∏—Å –≤ Railway
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω `DATABASE_URL` –∏–∑ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞
- [ ] –§–æ—Ä–º–∞—Ç –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ `postgresql+asyncpg://...`
- [ ] `DATABASE_URL` –æ–±–Ω–æ–≤–ª–µ–Ω –≤ —Å–µ—Ä–≤–∏—Å–µ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
- [ ] Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ä–≤–∏—Å
- [ ] –û—à–∏–±–∫–∞ –∏—Å—á–µ–∑–ª–∞

---

## üìù –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ DATABASE_URL

```
postgresql+asyncpg://postgres:–í–ê–®_–ü–ê–†–û–õ–¨@–í–ê–®_–•–û–°–¢:5432/railway
```

**–ì–¥–µ:**
- `–í–ê–®_–ü–ê–†–û–õ–¨` - –ø–∞—Ä–æ–ª—å –∏–∑ Railway PostgreSQL
- `–í–ê–®_–•–û–°–¢` - —Ö–æ—Å—Ç –∏–∑ Railway PostgreSQL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `containers-us-west-123.railway.app`)

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

1. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `localhost`** - —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Railway!
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π URL** –∏–∑ Railway PostgreSQL —Å–µ—Ä–≤–∏—Å–∞
3. **–ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å `+asyncpg`** –≤ —Ñ–æ—Ä–º–∞—Ç URL
4. **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Å–µ—Ä–≤–∏—Å–µ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø**, –∞ –Ω–µ –≤ PostgreSQL

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `DATABASE_URL`:

1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Deploy Logs
4. –û—à–∏–±–∫–∞ `Temporary failure in name resolution` –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å
5. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: `‚úÖ Database connection established`

---

**–ì–õ–ê–í–ù–û–ï:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π `DATABASE_URL` –∏–∑ Railway PostgreSQL, –∞ –Ω–µ –ª–æ–∫–∞–ª—å–Ω—ã–π `localhost`! üöÄ

