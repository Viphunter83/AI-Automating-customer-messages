# üîå –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP –¥–ª—è Supabase Self-Hosted

**–ü—Ä–æ–µ–∫—Ç:** Neiromatrius  
**–î–∞—Ç–∞:** 8 –¥–µ–∫–∞–±—Ä—è 2025

---

## ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ MCP

**–î–∞, —É –Ω–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î —á–µ—Ä–µ–∑ MCP!**

–£ –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å:
- ‚úÖ Supabase self-hosted –≤ Dokploy
- ‚úÖ Kong Gateway (`SUPABASE_URL=http://kong:8000`)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å `SUPABASE_URL` –∏ `SUPABASE_KEY`

---

## üìã –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è MCP

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Kong Gateway (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ï—Å–ª–∏ Kong Gateway –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Dokploy:**

```bash
# MCP URL –±—É–¥–µ—Ç:
http://kong:8000/mcp

# –ò–ª–∏ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞:
https://supabase.neiroaleksandra.dev.zerocoder.pro/mcp
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Kong Gateway –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Supabase self-hosted
- MCP –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Supabase

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase MCP

**–ï—Å–ª–∏ Supabase CLI –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ:**

```bash
# MCP URL:
http://localhost:54321/mcp

# –ò–ª–∏ –¥–ª—è self-hosted:
http://YOUR_SUPABASE_IP:54321/mcp
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Supabase CLI
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (`supabase start`)

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°—Ç–æ—Ä–æ–Ω–Ω–∏–π MCP —Å–µ—Ä–≤–µ—Ä (HenkDz/selfhosted-supabase-mcp)

**GitHub:** https://github.com/HenkDz/selfhosted-supabase-mcp

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
SUPABASE_URL=http://kong:8000
SUPABASE_ANON_KEY=your_anon_key

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
DATABASE_URL=postgresql://...
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å self-hosted Supabase
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (Auth)
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å Storage
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è TypeScript —Ç–∏–ø–æ–≤

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP –≤ Cursor

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä –≤ Cursor

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cursor
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **MCP Servers**
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä:

**–î–ª—è Kong Gateway:**
```json
{
  "name": "supabase-mcp",
  "url": "http://kong:8000/mcp",
  "headers": {
    "apikey": "YOUR_SUPABASE_KEY",
    "Authorization": "Bearer YOUR_SUPABASE_KEY"
  }
}
```

**–î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞:**
```json
{
  "name": "supabase-mcp",
  "url": "https://supabase.neiroaleksandra.dev.zerocoder.pro/mcp",
  "headers": {
    "apikey": "YOUR_SUPABASE_KEY",
    "Authorization": "Bearer YOUR_SUPABASE_KEY"
  }
}
```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:

```json
{
  "name": "supabase-mcp",
  "url": "${SUPABASE_URL}/mcp",
  "headers": {
    "apikey": "${SUPABASE_KEY}",
    "Authorization": "Bearer ${SUPABASE_KEY}"
  }
}
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ MCP

### –¢–µ—Å—Ç —á–µ—Ä–µ–∑ curl:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP —á–µ—Ä–µ–∑ Kong Gateway
curl -H "apikey: YOUR_SUPABASE_KEY" \
     -H "Authorization: Bearer YOUR_SUPABASE_KEY" \
     http://kong:8000/mcp

# –ò–ª–∏ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
curl -H "apikey: YOUR_SUPABASE_KEY" \
     -H "Authorization: Bearer YOUR_SUPABASE_KEY" \
     https://supabase.neiroaleksandra.dev.zerocoder.pro/mcp
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- HTTP 200 OK
- JSON –æ—Ç–≤–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ MCP —Å–µ—Ä–≤–µ—Ä–µ

---

## üìù –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ MCP

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è MCP –≤—ã —Å–º–æ–∂–µ—Ç–µ:

‚úÖ **–°–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–±–ª–∏—Ü–∞–º–∏**
- "–°–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—É users —Å –ø–æ–ª—è–º–∏ id, name, email"
- "–î–æ–±–∞–≤—å –∏–Ω–¥–µ–∫—Å –Ω–∞ –ø–æ–ª–µ email"

‚úÖ **–í—ã–ø–æ–ª–Ω—è—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ**
- "–ü–æ–∫–∞–∂–∏ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å"
- "–ù–∞–π–¥–∏ –¥–∏–∞–ª–æ–≥–∏ —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º"

‚úÖ **–£–ø—Ä–∞–≤–ª—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏**
- "–°–æ–∑–¥–∞–π –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è status"
- "–ü—Ä–∏–º–µ–Ω–∏ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏"

‚úÖ **–†–∞–±–æ—Ç–∞—Ç—å —Å Auth (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)**
- "–°–æ–∑–¥–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å email test@example.com"
- "–ü–æ–∫–∞–∂–∏ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"

‚úÖ **–†–∞–±–æ—Ç–∞—Ç—å —Å Storage (—Ñ–∞–π–ª—ã)**
- "–ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª –≤ bucket 'avatars'"
- "–ü–æ–∫–∞–∂–∏ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ bucket 'documents'"

‚úÖ **–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å TypeScript —Ç–∏–ø—ã**
- "–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π TypeScript —Ç–∏–ø—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã messages"

‚úÖ **–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ª–æ–≥–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É**
- "–ü–æ–∫–∞–∂–∏ –ª–æ–≥–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å"
- "–ö–∞–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º?"

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –∫–ª—é—á–∏ –≤ Git**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –•—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ Secrets Dokploy

2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ MCP**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Service Role Key —Ç–æ–ª—å–∫–æ –¥–ª—è backend
   - Anon Key –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (—Å RLS)

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
   - MCP –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª—é–±—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- MCP –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ HTTP/REST API
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä—è–º–æ–≥–æ PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á, –Ω–µ –¥–ª—è production –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üîç –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–£ –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å:**

```bash
# –í dokploy/DOKPLOY_ENV_VARIABLES.md
SUPABASE_URL=http://kong:8000  # Kong Gateway
SUPABASE_KEY=                  # Role Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
SUPABASE_USER=postgres
SUPABASE_PASSWORD=
SUPABASE_HOST=
SUPABASE_PORT=5432
SUPABASE_DB=postgres
```

**–î–ª—è MCP –Ω—É–∂–Ω–æ:**

1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Kong Gateway –¥–æ—Å—Ç—É–ø–µ–Ω
2. –ü–æ–ª—É—á–∏—Ç—å `SUPABASE_KEY` (Anon Key –∏–ª–∏ Service Role Key)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ MCP –≤–∫–ª—é—á–µ–Ω –≤ Supabase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Supabase MCP Documentation](https://supabase.com/docs/guides/self-hosting/enable-mcp)
- [HenkDz/selfhosted-supabase-mcp](https://github.com/HenkDz/selfhosted-supabase-mcp)
- [MCP Protocol Specification](https://modelcontextprotocol.io/)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 8 –¥–µ–∫–∞–±—Ä—è 2025







