# üóÑÔ∏è –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ Supabase SQL Editor

**–ü—Ä–æ–µ–∫—Ç:** Neiromatrius  
**–î–∞—Ç–∞:** 8 –¥–µ–∫–∞–±—Ä—è 2025

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å MCP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏:
```
Failed to connect pg pool: Tenant or user not found
```

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–æ —Å:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º DATABASE_URL
- –°–µ—Ç–µ–≤—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–±–ª–µ–º–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Supabase SQL Editor

–î–ª—è self-hosted Supabase —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π - —á–µ—Ä–µ–∑ **Supabase SQL Editor**.

---

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Supabase Dashboard:
   - URL: `http://supabase.dev.neiromatrius.zerocoder.pro:8000`
   - –ò–ª–∏ —á–µ—Ä–µ–∑ Dokploy: –Ω–∞–π–¥–∏—Ç–µ —Å–µ—Ä–≤–∏—Å Supabase ‚Üí –æ—Ç–∫—Ä–æ–π—Ç–µ Dashboard

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **SQL Editor**
2. –ù–∞–∂–º–∏—Ç–µ **New Query**

### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏–∏

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `database/migrations_supabase.sql` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

### –®–∞–≥ 4: –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ

1. –í—Å—Ç–∞–≤—å—Ç–µ SQL –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
2. –ù–∞–∂–º–∏—Ç–µ **Run** –∏–ª–∏ `Ctrl+Enter` (Windows/Linux) / `Cmd+Enter` (Mac)
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üìÅ –§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–π

–§–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –ø—É—Ç–∏:
```
database/migrations_supabase.sql
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN (
    'messages', 'classifications', 'response_templates', 'keywords',
    'operator_feedback', 'operator_session_logs', 'reminders',
    'chat_sessions', 'operator_message_reads'
)
ORDER BY table_name;
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ ENUM —Ç–∏–ø–æ–≤:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ ENUM —Ç–∏–ø–æ–≤
SELECT typname 
FROM pg_type 
WHERE typtype = 'e' 
AND typname IN (
    'messagetype', 'scenariotype', 'remindertype', 'dialogstatus',
    'prioritylevel', 'escalationreason'
)
ORDER BY typname;
```

---

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å MCP

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ MCP, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–§–æ—Ä–º–∞—Ç DATABASE_URL:**
   ```
   postgresql://postgres:password@host:port/database
   ```

2. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ö–æ—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ 5432 –∏–ª–∏ 5437)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

3. **–°–µ—Ç–µ–≤–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:**
   - –ï—Å–ª–∏ Supabase –≤ Docker —Å–µ—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –≤–º–µ—Å—Ç–æ –≤–Ω–µ—à–Ω–µ–≥–æ —Ö–æ—Å—Ç–∞
   - –î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç

---

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ psql

–ï—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `psql`:

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql -h supabase.dev.neiromatrius.zerocoder.pro \
     -p 5437 \
     -U postgres \
     -d postgres

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
\i database/migrations_supabase.sql
```

–ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
psql -h supabase.dev.neiromatrius.zerocoder.pro \
     -p 5437 \
     -U postgres \
     -d postgres \
     -f database/migrations_supabase.sql
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase SQL Editor - —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±.

**–î–ª—è –±—É–¥—É—â–µ–≥–æ:** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è MCP –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

---

**–î–∞—Ç–∞:** 8 –¥–µ–∫–∞–±—Ä—è 2025






