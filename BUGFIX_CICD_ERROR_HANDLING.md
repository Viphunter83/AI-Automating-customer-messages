# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ CI/CD

**–î–∞—Ç–∞:** 2025-11-27

---

## üîç –ü—Ä–æ–±–ª–µ–º–∞

### Bug: –ö–æ–º–∞–Ω–¥–∞ `head` —Å–∫—Ä—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ TypeScript

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í `.github/workflows/ci.yml` –∫–æ–º–∞–Ω–¥–∞ `npm run type-check 2>&1 | head -50` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞–π–ø —á–µ—Ä–µ–∑ `head`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (status 0) –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, —É–ø–∞–ª–∞ –ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –∫–æ–º–∞–Ω–¥–∞.

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
1. **–°–∫—Ä—ã—Ç–∏–µ –æ—à–∏–±–æ–∫:** –ï—Å–ª–∏ `npm run type-check` –ø–∞–¥–∞–µ—Ç, `head` –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0
2. **–õ–æ–∂–Ω—ã–µ —É—Å–ø–µ—Ö–∏:** CI/CD –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Å–ø–µ—Ö –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
3. **–ü–ª–æ—Ö–æ–π –∫–æ–¥ –≤ main:** –°–ª–æ–º–∞–Ω–Ω—ã–π –∫–æ–¥ –º–æ–∂–µ—Ç –ø–æ–ø–∞—Å—Ç—å –≤ main –≤–µ—Ç–∫—É

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```bash
# –ï—Å–ª–∏ type-check –ø–∞–¥–∞–µ—Ç:
npm run type-check 2>&1 | head -50
# head –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–≤–æ–¥, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–µ 50 —Å—Ç—Ä–æ–∫ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
# CI/CD –≤–∏–¥–∏—Ç —É—Å–ø–µ—Ö, —Ö–æ—Ç—è type-check —É–ø–∞–ª ‚ùå
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –£–±—Ä–∞—Ç—å `head` –∏–∑ –ø–∞–π–ø–∞

**–î–æ:**
```yaml
- name: Type check
  working-directory: frontend
  run: |
    echo "Current directory: $(pwd)"
    echo "Files in lib/:"
    ls -la lib/ || echo "lib/ not found"
    echo "TypeScript config:"
    cat tsconfig.json | grep -A 25 "paths" || echo "paths not found"
    echo "Running type-check..."
    npm run type-check 2>&1 | head -50  # ‚ùå –°–∫—Ä—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
```

**–ü–æ—Å–ª–µ:**
```yaml
- name: Type check
  working-directory: frontend
  run: |
    echo "Current directory: $(pwd)"
    echo "Files in lib/:"
    ls -la lib/ || echo "lib/ not found"
    echo "TypeScript config:"
    cat tsconfig.json | grep -A 25 "paths" || echo "paths not found"
    echo "Running type-check..."
    npm run type-check  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥):**
```yaml
- name: Type check
  working-directory: frontend
  run: |
    # ... –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã ...
    set -o pipefail  # ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–∞–π–ø –≤–µ—Ä–Ω–µ—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏ –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥—ã
    npm run type-check 2>&1 | head -50
```

–ù–æ –ª—É—á—à–µ –ø—Ä–æ—Å—Ç–æ —É–±—Ä–∞—Ç—å `head`, —Ç–∞–∫ –∫–∞–∫:
- GitHub Actions –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –≤ –ª–æ–≥–∞—Ö
- –û—à–∏–±–∫–∏ TypeScript –≤–∞–∂–Ω—ã –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è

### `.github/workflows/ci.yml`
- ‚úÖ –£–±—Ä–∞–Ω `head -50` –∏–∑ –ø–∞–π–ø–∞ –∫–æ–º–∞–Ω–¥—ã `npm run type-check`
- ‚úÖ –¢–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∏ TypeScript –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ CI/CD –±—É–¥–µ—Ç –ø–∞–¥–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
- ‚úÖ CI/CD –±—É–¥–µ—Ç –ø–∞–¥–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö TypeScript
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –£—Å–ø–µ—à–Ω–æ

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å:
- ‚úÖ –û—à–∏–±–∫–∏ TypeScript –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ CI/CD –±—É–¥–µ—Ç –ø–∞–¥–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –°–ª–æ–º–∞–Ω–Ω—ã–π –∫–æ–¥ –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ main –≤–µ—Ç–∫—É
- ‚úÖ –ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ª–æ–≥–∞—Ö CI/CD

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ü–æ—á–µ–º—É `head` —Å–∫—Ä—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏:**

–í bash, –∫–æ–≥–¥–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–∞–¥–∞–µ—Ç –≤ –ø–∞–π–ø–µ:
```bash
command1 | command2
```

–ö–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤—Å–µ–≥–æ –ø–∞–π–ø–∞ - —ç—Ç–æ –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã (`command2`). –ï—Å–ª–∏ `command2` (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `head`) –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –≤–µ—Å—å –ø–∞–π–ø —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º, –¥–∞–∂–µ –µ—Å–ª–∏ `command1` —É–ø–∞–ª.

**–†–µ—à–µ–Ω–∏—è:**

1. **–£–±—Ä–∞—Ç—å `head`** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `set -o pipefail`** - –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∞–π–ø –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ–¥ –æ—à–∏–±–∫–∏ –ø–µ—Ä–≤–æ–π —É–ø–∞–≤—à–µ–π –∫–æ–º–∞–Ω–¥—ã
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PIPESTATUS`** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã –≤ –ø–∞–π–ø–µ

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!** ‚úÖ

**–¢–µ–ø–µ—Ä—å CI/CD –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ TypeScript.**

